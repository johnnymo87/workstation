# OSC 52 clipboard support
# Allows applications (like Neovim) to write to the local clipboard via terminal escape sequences

# Accept OSC 52 from tmux itself, but not from applications inside tmux
# ('external' is more secure than 'on' which allows any app to set clipboard)
set -s set-clipboard external

# tmux 3.3+: required for passthrough escape sequences (-q suppresses errors on older versions)
set -gq allow-passthrough on

# Enable clipboard capability for common terminal types
# (broader matching for portability across iTerm2, WezTerm, kitty, nested tmux, etc.)
set -as terminal-features ',xterm*:clipboard'
set -as terminal-features ',screen*:clipboard'
set -as terminal-features ',tmux*:clipboard'
